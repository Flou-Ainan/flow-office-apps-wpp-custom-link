<!DOCTYPE html>
<html>
  <head>
	<link href='https://fonts.googleapis.com/css?family=Antonio' rel='stylesheet'>
	<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
	<link href='https://fonts.googleapis.com/css?family=Dangrek' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Alegreya Sans' rel='stylesheet'>
	  
	  <!-- LINK PREVIEW -->
	  <meta property='og:title' content='Flow Office | Whatsapp Links'/>
	  <meta property='og:image' content='https://i.ibb.co/fGBq4n5/linkpreview.jpg'/>
	  <meta property='og:description' content="Crie links personalizados para seu Whatsapp"/>
	  <meta property='og:url' content='sites.google.com/view/flowoffice'/>
	  <meta property='og:image:width' content='1039' />
	  <meta property='og:image:height' content='569' />
	  <meta property="og:type" content='website'/>
	  <link rel="shortcut icon" href="favicon.ico">
	  <link rel="icon" type="image/png" href="favicon.png">

	
  <style>
	body {
        background-image: linear-gradient(rgb(54, 75, 104), rgb(65, 84, 120));
        background-repeat: no-repeat;
        font-size: 14pt;
    	text-align: center;
    	font-family: 'Antonio';
        background-color: rgb(65, 84, 120);
        color: rgb(255, 241, 179);
        margin: 15pt;
        }
        
    m {
    	font-size: 11pt;
    	font-family: serif;
        }
        
    button {
        font-size: 16pt;
    	padding: 5pt 25pt;
    	background-color: rgb(255, 238, 153);
        border-radius: 7pt;
        border-color: rgb(255,255,200);
        border-width: 2px;
    }
    
    h2 {
    	font-family: 'Dangrek';
        color: white;
    }
    h5 {
    	font-family: 'Alegreya Sans';
    }
    
    textarea {
    	font-family: 'Alegreya Sans';
        background-color: rgb(215, 223, 234);
        border-radius: 7pt;
        border-color: rgba(0,0,0,0);
    }
    
    input {
    	background-color: rgb(215, 223, 234);
        border-radius: 7pt;
        border-color: rgba(0,0,0,0);
    }
    #resultado {
        color: rgb(70,90,135);
    }
    #website {
        background-color: rgb(128,160,200);
        color: rgb(256,250,50);
        border-color: rgb(160,170,210);
    }
    
@media only screen 
and (max-device-width: 700px) {
        body {font-size: 3.5vw}
        h2 {font-size: 4vw}
        h5 {font-size: 2.8vw}
        m {font-size: 2.8vw}
        button {
            font-size: 4vw;
            padding:1% 10%;
            border-radius: 1.8vw;
            border-width: 4px;
        }
       
  </style>
</head>
<body>
<br>
<h2>GERADOR DE LINKS PERSONALIZADOS PARA WHATSAPP üì≤Ô∏è</h2>
<h5>Feito por Flou Ainan</h5><br>
<p>Insira seus dados e gere um link de mensagem personalizada para seu whatsapp.</p>
<p>Este m√©todo funciona para a vers√£o Business e Cl√°ssica.</p>
<br><br>


	<label for="numero">N√∫mero com DDD e c√≥digo do pa√≠s<br><m>Ex.: 5521978564402</m><br></label>
  <input id="num" name="numero" size="45"><br>


<br>
Insira sua mensagem personalizada:<br>
<textarea id="mensagem" rows="4" cols="50">
Ol√°, estou interessado em seus servi√ßos.
</textarea><br>
<button id="converter" onclick="gerarLink()"> GERAR LINK </button><br><br>

Link Personalizado:<br>
<textarea readonly id="resultado" rows="4" cols="50"></textarea><br>
<button id="copiar-link" onclick="copiarLink()"> COPIAR LINK </button>

<br><br>
<button id="website" onclick="voltarAoSite()">RETORNAR AO SITE ‚Ü©Ô∏è</button>
<br><br>


<script>
function voltarAoSite() {
    window.history.go(-1);
    
    window.location.href = document.referrer
}

function test(){
alert(document.getElementById("mensagem").value);
}

function bloquear_texto(estado) {
    document.getElementById("resultado").readOnly = estado;
}

function copiarLink() {

	var input = document.getElementById("resultado");
	var isiOSDevice = navigator.userAgent.match(/ipad|iphone/i);

	if (isiOSDevice) {
	  
		var editable = input.contentEditable;
		var readOnly = input.readOnly;

		input.contentEditable = true;
		input.readOnly = false;

		var range = document.createRange();
		range.selectNodeContents(input);

		var selection = window.getSelection();
		selection.removeAllRanges();
		selection.addRange(range);

		input.setSelectionRange(0, 999999);
		input.contentEditable = editable;
		input.readOnly = readOnly;

	} else {
	 	input.select();
	}
    
    alert("Link Copiado !");
	document.execCommand('copy');
}

function gerarLink() {
var numero = document.getElementById("num").value;
var link = "https://wa.me/";
link = link+numero+"?text="+gerarTexto();
//bloquear_texto(false);
document.getElementById("resultado").innerHTML = link;
//bloquear_texto(true);
}

function gerarTexto() {
	var mensagem = document.getElementById("mensagem").value;
    var resultado =  encodeURIComponent(mensagem);
	return resultado;
}

var input2 = document.getElementById("num");
input2.addEventListener("keyup", function(event) {
  if (event.keyCode === 13) {
   event.preventDefault();
   document.getElementById("mensagem").focus();
  }
});

var input = document.getElementById("mensagem");
input.addEventListener("input", function(event) {
   event.preventDefault();
   document.getElementById("converter").click();
});
  


</script>

</body>
</html>

